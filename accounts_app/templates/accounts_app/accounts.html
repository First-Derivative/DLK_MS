{% load static %}

<!doctype html>
<html lang="en">
   <head>
     
   </head>
   <!-- Required meta tags -->
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <!-- Bootstrap CSS-->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
 
   <!-- Overview CSS-->
   <link href="{% static '/overview_app/styles/overview.css' %}" rel="stylesheet">
 
   <!-- Bootstrap JS-->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
 
   <!-- Jquery JS-->
   <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
 

   <body>

    <!-- COMBAT INFORMATION CENTER -->
    <div class="container-fluid mt-3" id="root_container">
      <div class="row d-flex justify-content-center ">
     
        <!-- LEFT_CONTENT -->
        <div class="col-xl-2" id="left_content">

          <!-- Search & Filtering -->
          <div class="d-flex flex-row ">
            <form class="search_wrapper mb-3" id="left_content_form">

              <div class="col mb-3">
                <input type="text" class="search_input form-control" value="" placeholder="Search..." id="input-search">
                <p class="mt-1" style="font-size: 75%;margin-left: 0.25em" id="input-helper">press enter to start search</p>
              </div>

              <div>
                <button type="button" class="btn std-btn col mb-3" id="input-search-clear">
                  Clear Search Results
                </button>
              </div>

              <div class="col mb-3">
                <input class="form-check-input" type="checkbox" value="" id="input-cancelled">
                <label class="form-check-label" for="input-cancelled">
                  Show Cancelled Orders
                </label>
              </div>

              <div class="col">
                <input class="form-check-input" type="checkbox" value="" id="input-completed" checked>
                <label class="form-check-label" for="input-completed">
                  Show Completed Orders
                </label>
              </div>
            </form>
          </div>

        </div>

        <!-- MAIN CONTENT -->
        <div class="col-xl-10" id="main_content">
          {% if accounts %}
          <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col">Sale</th>
                <th scope="col">Sale Invoice </th>
                <th scope="col">Invoice Number</th>
                <th scope="col">Invoice Date</th>
                <th scope="col">Status</th>
                <th scope="col">Completed</th>
                <th scope="col">Cancelled</th>
              </tr>
            </thead>
            <tbody>
              {% for payment in accounts %}
              <tr>
                <th scope="row"> {{ payment.sales_relation }} </th>
                <td> {{ payment.payment_value }} </td>
                <td {% if payment.invoice_number_isNull%} class="missing_text" {% endif %}> {{ payment.invoice_number }} </td>
                <td {% if payment.invoice_date_isNull%} class="missing_text" {% endif %}> {{ payment.invoice_date }} </td>
                <td {% if payment.status_isNull%} class="missing_text" {% endif %}> {{ payment.status }} </td>
                <td> {{ payment.completed }} </td>
                <td> {{ payment.cancelled }} </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
          {% endif %}

        </div>
    </div>

  </body>

   <script>
     $("#logout_button").click(function() {
       window.location.replace("{% url 'user_logout' %}"); 
     })
 
     const postReport_url = "{% url 'postNewReport_API' %}"
     let report_token = "{{csrf_token}} "
     let token = "{{csrf_token}} "
   </script>
</html>